(this.webpackJsonpsql_exercises=this.webpackJsonpsql_exercises||[]).push([[0],{200:function(e,t,n){},208:function(e,t){},210:function(e,t){},221:function(e,t){},223:function(e,t){},250:function(e,t){},252:function(e,t){},253:function(e,t){},258:function(e,t){},260:function(e,t){},266:function(e,t){},268:function(e,t){},287:function(e,t){},299:function(e,t){},302:function(e,t){},315:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),r=n(37),i=n.n(r),a=n(30),o=n(14),l=(n(200),n(177)),d=n(113),j=n.n(d),b=n(378),u=n(178),x=n.n(u),m=n(179),O=n(374),h=n(385),f=n(387),p=n(391),v=n(390),g=n(386),k=n(388),w=n(389),S=n(1);function q(e){var t=e.columns,n=e.values;return Object(S.jsx)(h.a,{elevation:3,sx:{width:"100%"},children:Object(S.jsx)(g.a,{sx:{maxHeight:250},children:Object(S.jsxs)(f.a,{size:"small",stickyHeader:!0,"aria-label":"sticky table",children:[Object(S.jsx)(k.a,{children:Object(S.jsx)(w.a,{children:t.map((function(e,t){return Object(S.jsx)(v.a,{align:"center",sx:{fontWeight:"bold",fontSize:16},children:e},t)}))})}),Object(S.jsx)(p.a,{children:n.map((function(e,t){return Object(S.jsx)(w.a,{hover:!0,role:"checkbox",tabIndex:-1,children:e.map((function(e,t){return Object(S.jsx)(v.a,{align:"center",children:e},t)}))},t)}))})]})})})}var E=n(377),C=n(373),R=n(185),y=n(370),M=n(376),_=n(180),L=n.n(_),I=n(310),T=function(e){e.name;var t=e.db,n=e.question,r=e.answer,i=Object(s.useState)(""),a=Object(o.a)(i,2),l=a[0],d=a[1],j=Object(s.useState)(null),u=Object(o.a)(j,2),x=u[0],m=u[1],h=Object(s.useState)(null),f=Object(o.a)(h,2),p=f[0],v=f[1],g=Object(s.useState)(Object(S.jsx)("pre",{})),k=Object(o.a)(g,2),w=k[0],_=k[1],T=Object(s.useState)(!1),F=Object(o.a)(T,2),z=F[0],D=F[1],P=function(e,t){"clickaway"!==t&&D(!1)},A=Object(S.jsx)(c.a.Fragment,{children:Object(S.jsx)(M.a,{size:"small","aria-label":"close",color:"inherit",onClick:P,children:Object(S.jsx)(L.a,{fontSize:"small"})})});return Object(S.jsxs)(E.a,{mb:4,children:[n,Object(S.jsxs)(C.a,{spacing:2,container:!0,alignItems:"center",children:[Object(S.jsx)(C.a,{item:!0,mb:5,md:10,children:Object(S.jsx)(E.a,{sx:{border:1},p:.5,children:Object(S.jsx)(R.a,{height:"10vh",defaultLanguage:"sql",onChange:function(e){return d(e)},options:{lineNumbers:"off",minimap:{enabled:!1}}})})}),Object(S.jsxs)(C.a,{item:!0,md:2,children:[Object(S.jsx)(y.a,{open:z,autoHideDuration:6e3,onClose:P,message:w,action:A}),Object(S.jsx)(O.a,{size:"large",variant:"contained",color:"success",onClick:function(){try{var e=t.exec(r),n=t.exec(l);m(n),v(e),_(I(n[0].values,e[0].values)?Object(S.jsx)(E.a,{children:"Correct !"}):Object(S.jsx)(E.a,{children:"Votre requ\xeate ne renvoie pas le bon r\xe9sultat."})),D(!0)}catch(s){_(Object(S.jsx)("pre",{children:(s||"").toString()}))}},children:"Valider"})]})]}),Object(S.jsxs)(C.a,{container:!0,spacing:6,direction:"row",children:[x&&Object(S.jsx)(C.a,{item:!0,md:5,xs:12,children:Object(S.jsxs)(b.a,{align:"center",children:["R\xe9sultat de votre requ\xeate ",Object(S.jsx)("br",{}),x.map((function(e){var t=e.columns,n=e.values;return Object(S.jsx)(q,{columns:t,values:n})}))]})}),p&&Object(S.jsx)(C.a,{item:!0,md:5,xs:12,children:Object(S.jsxs)(b.a,{align:"center",children:["R\xe9sultat attendu ",Object(S.jsx)("br",{}),p.map((function(e){var t=e.columns,n=e.values;return Object(S.jsx)(q,{columns:t,values:n})}))]})})]})]})},F=function(e){var t=Object(s.useState)(null),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(s.useEffect)((function(){Object(l.a)(j.a.mark((function t(){var n,s,c,i,a,l,d;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=x()({locateFile:function(){return m.a}}),s=fetch(e.db_url).then((function(e){return e.text()})),t.next=4,Promise.all([n,s]);case 4:c=t.sent,i=Object(o.a)(c,2),a=i[0],l=i[1],(d=new a.Database).exec(l),r(d);case 11:case"end":return t.stop()}}),t)})))()}),[]),Object(S.jsxs)("div",{children:[e.description&&Object(S.jsx)(E.a,{sx:{borderLeft:2.5,borderColor:"gray",padding:2},children:e.description}),e.diagram&&Object(S.jsx)(b.a,{align:"center",children:Object(S.jsx)("iframe",{frameBorder:"0",width:"100%",height:"400",src:"https://dbdiagram.io/embed/"+e.diagram,children:" "})}),Object(S.jsx)("hr",{}),Object(S.jsx)("ol",{children:e.questions.map((function(t,n){return Object(S.jsx)("li",{children:Object(S.jsx)(T,{db:c,name:e.name,question:t,answer:e.answers[n]})},"".concat(e.name,"_").concat(n))}))})]})},z={name:"Pok\xe9mon",description:Object(S.jsx)("div",{children:"Base de donn\xe9es contenant les pok\xe9mons de la 1\xe8re g\xe9n\xe9ration."}),db_url:"https://raw.githubusercontent.com/mp2i-info/mp2i-info.github.io/main/files/A_sql/pokemon/pokemon.sql",diagram:"62853fe17f945876b6459548",questions:["Calculer le nombre de pok\xe9mons.","Afficher les pok\xe9mons d\xe9tenus par Pierre."],answers:["SELECT count(*) FROM pokemons;","SELECT pokemons.nom FROM pokemons JOIN detient_pokemons ON pokemons.id = pokemon_id JOIN dresseurs ON dresseurs.id = dresseur_id"]},D={name:"Valeur fonci\xe8re",diagram:"630bbf70f1a9b01b0ffa30be",db_url:"https://raw.githubusercontent.com/fortierq/notebooks/master/nb/db/fonciere/fonciere.sql",description:Object(S.jsxs)("div",{children:["Informations sur une partie des ventes immobili\xe8res 2021 en France."," ",Object(S.jsx)("br",{}),"La ",Object(S.jsx)("b",{children:"valeur fonci\xe8re"})," est l'estimation de la valeur d'un terrain."," ",Object(S.jsx)("br",{}),"Les noms de voie et de commune sont en majuscules.",Object(S.jsx)("br",{}),Object(S.jsx)("a",{href:"https://cadastre.data.gouv.fr/dvf",children:"Source : data.gouv"}),"."]}),questions:["Quel est le nombre moyen de m2 du b\xe2ti ?"],answers:["select avg(surface_reelle_bati) as 'nombre moyen de m2 du b\xe2ti' from fonciere;"]},P=[{name:"M\xe9tro parisien",description:Object(S.jsxs)(C.a,{children:["Cette base de donn\xe9es contient une table ",Object(S.jsx)("code",{children:"metro"})," contenant les stations de m\xe9tro et RER parisiennes. Attributs de la table :",Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{children:[Object(S.jsx)("code",{children:"station"})," : nom de la station"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("code",{children:"reseau"})," : ",Object(S.jsx)("code",{children:"'M\xe9tro'"})," ou ",Object(S.jsx)("code",{children:"'Rer'"})]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("code",{children:"trafic"})," : nombre de passagers en 2021"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("code",{children:"ville"})," : ville de la station (exemples :"," ",Object(S.jsx)("code",{children:"'Paris'"}),", ",Object(S.jsx)("code",{children:"'Saint-Denis'"}),")"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("code",{children:"arrondissement"})," : arrondissement de la station (uniquement pour Paris)"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("code",{children:"correspondance_1"})," \xe0 ",Object(S.jsx)("code",{children:"correspondance_5"})," : lignes de m\xe9tro/RER passant par la station"]})]})]}),db_url:"https://raw.githubusercontent.com/fortierq/notebooks/master/nb/db/metro/metro.sql",diagram:"630e18a30911f91ba5f92ffa",questions:["Afficher toutes les stations de m\xe9tro.","Afficher la (ou les) station(s) de Massy.","Afficher la station et le trafic de la station la plus fr\xe9quent\xe9e.","Afficher chaque arrondissement avec son nombre de stations de m\xe9tro."],answers:["SELECT DISTINCT station FROM metro;","SELECT station FROM metro WHERE ville = 'Massy'","SELECT station, trafic FROM metro ORDER BY trafic DESC LIMIT 1","SELECT arrondissement, COUNT(*) FROM metro GROUP BY arrondissement"]},D,z],A=n(384),N=n(383),B=n(380),H=n(369),J=n(381),V=n(371),W=n(367),G=n(382),Q=n(379),U=n(184),Y=n.n(U),K=n(182),X=n.n(K),Z=240;function $(e){var t=e.window,n=c.a.useState(!1),s=Object(o.a)(n,2),r=s[0],i=s[1],l=c.a.useState(0),d=Object(o.a)(l,2),j=d[0],u=d[1],x=function(){i(!r)},m=void 0!==t?function(){return t().document.body}:void 0,O=Object(S.jsxs)("div",{children:[Object(S.jsx)(Q.a,{}),Object(S.jsx)(B.a,{}),Object(S.jsx)(J.a,{children:P.map((function(e,t){var n=e.name;return Object(S.jsx)(V.a,{disablePadding:!0,children:Object(S.jsx)(W.a,{disableRipple:!0,selected:j===t,onClick:function(e){return u(t)},children:Object(S.jsx)(G.a,{primary:n})})},n)}))})]});P.map((function(e){return Object(S.jsx)(F,Object(a.a)({},e))}));return Object(S.jsx)("div",{children:Object(S.jsxs)(E.a,{sx:{display:"flex"},children:[Object(S.jsx)(N.a,{}),Object(S.jsx)(A.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(Z,"px)")},ml:{sm:"".concat(Z,"px")},height:60},children:Object(S.jsxs)(Q.a,{children:[Object(S.jsx)(X.a,{href:"https://github.com/fortierq/sql-exercises",direction:"right",size:"60"}),Object(S.jsx)(M.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:x,sx:{mr:2,display:{sm:"none"}},children:Object(S.jsx)(Y.a,{})}),Object(S.jsxs)(b.a,{variant:"h6",noWrap:!0,component:"div",children:["Exercices SQL : ",P[j].name]})]})}),Object(S.jsxs)(E.a,{component:"nav",sx:{width:{sm:Z},flexShrink:{sm:0}},children:[Object(S.jsx)(H.a,{container:m,variant:"temporary",open:r,onClose:x,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Z}},children:O}),Object(S.jsx)(H.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Z}},open:!0,children:O})]}),Object(S.jsxs)(E.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(Z,"px)")}},children:[Object(S.jsx)(Q.a,{}),Object(S.jsx)(F,Object(a.a)({},P[j]),j)]})]})})}var ee=document.getElementById("root");i.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)($,{})}),ee)}},[[315,1,2]]]);
//# sourceMappingURL=main.bc6210de.chunk.js.map