(this.webpackJsonpsql_exercises=this.webpackJsonpsql_exercises||[]).push([[0],{208:function(e,n,t){},215:function(e,n){},217:function(e,n){},228:function(e,n){},230:function(e,n){},255:function(e,n){},257:function(e,n){},258:function(e,n){},263:function(e,n){},265:function(e,n){},271:function(e,n){},273:function(e,n){},292:function(e,n){},304:function(e,n){},307:function(e,n){},320:function(e,n,t){"use strict";t.r(n);var s=t(0),o=t.n(s),r=t(180),c=t(32),i=t(13),a=(t(208),t(115)),l=t(183),d=t(184),u=t.n(d),j=t(185),b=t(384),m=t(396),h=t(398),x=t(402),p=t(401),O=t(397),f=t(399),v=t(400),g=t(1),k=function(e){var n=e.columns,t=e.values;return Object(g.jsx)(m.a,{elevation:3,sx:{width:"100%"},children:Object(g.jsx)(O.a,{sx:{maxHeight:250},children:Object(g.jsxs)(h.a,{size:"small",stickyHeader:!0,"aria-label":"sticky table",children:[Object(g.jsx)(f.a,{children:Object(g.jsx)(v.a,{children:n.map((function(e,n){return Object(g.jsx)(p.a,{align:"center",sx:{fontWeight:"bold",fontSize:16},children:e},n)}))})}),Object(g.jsx)(x.a,{children:t.map((function(e,n){return Object(g.jsx)(v.a,{hover:!0,role:"checkbox",tabIndex:-1,children:e.map((function(e,n){return Object(g.jsx)(p.a,{align:"center",children:e},n)}))},n)}))})]})})})},y=t(388),q=t(383),_=t(389),w=t(192),C=t(380),S=t(387),E=t(187),R=t.n(E),M=t(379),I=t(315),A=function(e){e.name;var n=e.db,t=e.question,r=e.answer,c=Object(s.useState)(""),a=Object(i.a)(c,2),l=a[0],d=a[1],u=Object(s.useState)(null),j=Object(i.a)(u,2),m=j[0],h=j[1],x=Object(s.useState)(null),p=Object(i.a)(x,2),O=p[0],f=p[1],v=Object(s.useState)(0),E=Object(i.a)(v,2),A=E[0],L=E[1],F=Object(s.useState)(""),P=Object(i.a)(F,2),T=P[0],D=(P[1],Object(s.useState)(!1)),z=Object(i.a)(D,2),N=z[0],W=z[1],B=function(e,n){"clickaway"!==n&&W(!1)},H=Object(g.jsx)(o.a.Fragment,{children:Object(g.jsx)(S.a,{size:"small","aria-label":"close",color:"inherit",onClick:B,children:Object(g.jsx)(R.a,{fontSize:"small"})})}),J="success",G="Correct !";return T?(J="error",G="Erreur : "+T):0===A&&(J="error",G="Incorrect !"),Object(g.jsxs)(y.a,{mb:4,children:[Object(g.jsx)(q.a,{container:!0,justifyContent:"center",alignItems:"center",sx:{m:2,fontWeight:"bold"},children:t}),Object(g.jsx)(C.a,{open:N,autoHideDuration:6e3,action:H,children:Object(g.jsx)(M.a,{onClose:B,severity:J,sx:{width:"100%"},children:G})}),Object(g.jsxs)(q.a,{spacing:2,mb:5,container:!0,justifyContent:"center",alignItems:"center",children:[Object(g.jsx)(q.a,{item:!0,md:10,sm:10,xs:12,children:Object(g.jsx)(y.a,{sx:{border:1,width:"100%"},p:.5,children:Object(g.jsx)(w.a,{height:"13vh",defaultLanguage:"sql",onChange:function(e){return d(e)},options:{lineNumbers:"off",minimap:{enabled:!1}}})})}),Object(g.jsx)(q.a,{item:!0,children:Object(g.jsx)(b.a,{size:"large",variant:"contained",color:"success",onClick:function(){try{var e=n.exec(r),t=n.exec(l);h(t),f(e),L(I(t[0].values,e[0].values)?1:0)}catch(s){console.log(s)}W(!0)},children:"Valider"})})]}),Object(g.jsxs)(q.a,{container:!0,spacing:6,direction:"row",children:[m&&Object(g.jsx)(q.a,{item:!0,md:5,xs:12,children:Object(g.jsxs)(_.a,{align:"center",children:["R\xe9sultat de votre requ\xeate ",Object(g.jsx)("br",{}),m.map((function(e){var n=e.columns,t=e.values;return Object(g.jsx)(k,{columns:n,values:t})}))]})}),O&&Object(g.jsx)(q.a,{item:!0,md:5,xs:12,children:Object(g.jsxs)(_.a,{align:"center",children:["R\xe9sultat attendu ",Object(g.jsx)("br",{}),O.map((function(e){var n=e.columns,t=e.values;return Object(g.jsx)(k,{columns:n,values:t})}))]})})]})]})},L=t(378),F=t(390),P=function(e){var n=Object(s.useState)(1),t=Object(i.a)(n,2),o=t[0],r=t[1],c=Object(s.useState)(null),d=Object(i.a)(c,2),b=d[0],m=d[1];return Object(s.useEffect)((function(){Object(l.a)(Object(a.a)().mark((function n(){var t,s,o,r,c,l,d;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=u()({locateFile:function(){return j.a}}),s=fetch(e.db_url).then((function(e){return e.text()})),n.next=4,Promise.all([t,s]);case 4:o=n.sent,r=Object(i.a)(o,2),c=r[0],l=r[1],(d=new c.Database).exec(l),m(d);case 11:case"end":return n.stop()}}),n)})))()}),[]),Object(g.jsxs)("div",{children:[Object(g.jsxs)(q.a,{container:!0,justifyContent:"center",alignItems:"center",children:[e.description&&Object(g.jsx)(q.a,{item:!0,sm:4,xs:12,children:Object(g.jsx)(y.a,{sx:{borderLeft:2.5,borderColor:"gray",padding:2},children:e.description})}),Object(g.jsx)(q.a,{item:!0,sm:8,xs:12,children:e.diagram&&Object(g.jsx)("iframe",{width:"100%",height:"450",src:"https://dbdiagram.io/embed/"+e.diagram})})]}),Object(g.jsx)(F.a,{sx:{m:3}}),Object(g.jsx)(q.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object(g.jsx)(L.a,{count:e.questions.length,page:o,onChange:function(e,n){r(n)}})}),e.questions.map((function(n,t){return Object(g.jsx)("div",{style:{display:t+1===o?"block":"none"},children:Object(g.jsx)(A,{name:e.name,db:b,question:e.questions[t],answer:e.answers[t]})})}))]})},T={name:"Pok\xe9mon",description:Object(g.jsx)("div",{children:"Base de donn\xe9es contenant les pok\xe9mons de la 1\xe8re g\xe9n\xe9ration."}),db_url:"https://raw.githubusercontent.com/mp2i-info/mp2i-info.github.io/main/files/A_sql/pokemon/pokemon.sql",diagram:"62853fe17f945876b6459548",questions:["Calculer le nombre de pok\xe9mons.","Afficher le nom de chaque pok\xe9mon avec son niveau d'\xe9volution.","Afficher les pok\xe9mons d\xe9tenus par Pierre.","Afficher le nom de chaque attaque avec son type.","Afficher chaque dresseur avec chacun de ses pok\xe9mons.","Afficher chaque pok\xe9mon avec son \xe9volution et son niveau d'\xe9volution.","Afficher chaque dresseur avec son nombre de pok\xe9mons et leur niveau moyen","Afficher les dresseurs qui poss\xe8dent au moins 4 pok\xe9mons de niveau au moins 30"],answers:["SELECT count(*) FROM pokemons;","select nom, niveau from evolue_en join pokemons on id = pokemon_base_id","SELECT pokemons.nom FROM pokemons JOIN detient_pokemons ON pokemons.id = pokemon_id JOIN dresseurs ON dresseurs.id = dresseur_id WHERE dresseurs.nom = 'Pierre'","select types.libelle, attaques.libelle from types join attaques on types.id = type_id","select dresseurs.nom, pokemons.nom from pokemons join detient_pokemons on pokemons.id = pokemon_id join dresseurs on dresseurs.id = dresseur_id","select pokemons.nom, pokemons_evol.nom, niveau from evolue_en join pokemons on pokemon_base_id = pokemons.id join pokemons as pokemons_evol on pokemon_evol_id = pokemons_evol.id","select nom, count(*) as nombre_pokemons, avg(niveau) as niveau_moyen from dresseurs join detient_pokemons on id = dresseur_id group by nom","select nom, count(*) from dresseurs join detient_pokemons on id = dresseur_id where niveau >= 50 group by nom having count(*) > 3"]},D={name:"Valeur fonci\xe8re",diagram:"630bbf70f1a9b01b0ffa30be",db_url:"https://raw.githubusercontent.com/fortierq/notebooks/master/nb/db/fonciere/fonciere.sql",description:Object(g.jsxs)("div",{children:["Informations sur une partie des ventes immobili\xe8res 2021 en France."," ",Object(g.jsx)("br",{}),"La ",Object(g.jsx)("b",{children:"valeur fonci\xe8re"})," est l'estimation de la valeur d'un terrain."," ",Object(g.jsx)("br",{}),"Les noms de voie et de commune sont en majuscules.",Object(g.jsx)("br",{}),Object(g.jsx)("a",{href:"https://cadastre.data.gouv.fr/dvf",children:"Source : data.gouv"}),"."]}),questions:["Quel est le nombre moyen de m2 du b\xe2ti ?"],answers:["select avg(surface_reelle_bati) as 'nombre moyen de m2 du b\xe2ti' from fonciere;"]},z=[{name:"M\xe9tro parisien",description:Object(g.jsxs)(q.a,{children:["Cette base de donn\xe9es contient une table ",Object(g.jsx)("code",{children:"metro"})," contenant les stations de m\xe9tro et RER parisiennes. Attributs de la table :",Object(g.jsxs)("ul",{children:[Object(g.jsxs)("li",{children:[Object(g.jsx)("code",{children:"station"})," : nom de la station"]}),Object(g.jsxs)("li",{children:[Object(g.jsx)("code",{children:"reseau"})," : ",Object(g.jsx)("code",{children:"'M\xe9tro'"})," ou ",Object(g.jsx)("code",{children:"'Rer'"})]}),Object(g.jsxs)("li",{children:[Object(g.jsx)("code",{children:"trafic"})," : nombre de passagers en 2021"]}),Object(g.jsxs)("li",{children:[Object(g.jsx)("code",{children:"ville"})," : ville de la station (exemples :"," ",Object(g.jsx)("code",{children:"'Paris'"}),", ",Object(g.jsx)("code",{children:"'Saint-Denis'"}),")"]}),Object(g.jsxs)("li",{children:[Object(g.jsx)("code",{children:"arrondissement"})," : arrondissement de la station (uniquement pour Paris)"]}),Object(g.jsxs)("li",{children:[Object(g.jsx)("code",{children:"correspondance_1"})," \xe0 ",Object(g.jsx)("code",{children:"correspondance_5"})," : lignes de m\xe9tro/RER passant par la station"]})]})]}),db_url:"https://raw.githubusercontent.com/fortierq/notebooks/master/nb/db/metro/metro.sql",diagram:"630e18a30911f91ba5f92ffa",questions:["Afficher toutes les stations de m\xe9tro.","Afficher la (ou les) station(s) de Massy.","Afficher la station et le trafic de la station la plus fr\xe9quent\xe9e.","Afficher chaque arrondissement avec son nombre de stations de m\xe9tro."],answers:["SELECT DISTINCT station FROM metro;","SELECT station FROM metro WHERE ville = 'Massy'","SELECT station, trafic FROM metro ORDER BY trafic DESC LIMIT 1","SELECT arrondissement, COUNT(*) FROM metro GROUP BY arrondissement"]},T,D],N=t(394),W=t(393),B=t(377),H=t(392),J=t(381),G=t(375),Q=t(391),U=t(395),V=t(191),Y=t.n(V),K=t(189),X=t.n(K),Z=t(385),$=240,ee=[{name:"Requ\xeates sur une table",url:"https://raw.githubusercontent.com/fortierq/cours/main/sql/cours/1_select/select.pdf",exos:[{name:"Pays",description:Object(g.jsx)("div",{children:"Base de donn\xe9es contenant les pays du monde."}),db_url:"https://raw.githubusercontent.com/cpge-exercices/sql/main/db/pays.sql",diagram:"642c778b5758ac5f1726bc6c",questions:["Afficher tous les noms de pays."],answers:["SELECT nom FROM pays"]}]},{name:"Plusieurs tables",url:"https://raw.githubusercontent.com/fortierq/cours/main/sql/cours/2_join/join.pdf",exos:[]},{name:"Fonctions d'agr\xe9gation",url:"https://raw.githubusercontent.com/fortierq/cours/main/sql/cours/3_groupby/groupby.pdf",exos:[]}];function ne(e){var n=e.window,t=o.a.useState(!1),s=Object(i.a)(t,2),r=s[0],a=s[1],l=o.a.useState(null),d=Object(i.a)(l,2),u=d[0],j=d[1],b=function(){a(!r)},m=void 0!==n?function(){return n().document.body}:void 0,h=function(e){return Object(g.jsx)(J.a,{children:Object(g.jsx)(Q.a,{primary:Object(g.jsx)(q.a,{container:!0,justifyContent:"center",alignItems:"center",sx:{fontWeight:"bold"},children:Object(g.jsx)(_.a,{style:{fontWeight:"bold"},children:e})})})},e)},x=function(e){return Object(g.jsx)(J.a,{disablePadding:!0,children:Object(g.jsxs)(G.a,{disableRipple:!0,selected:u===e,onClick:function(n){return j(e)},children:["Exercice : ",e.name]})},e.name)},p=Object(g.jsx)("div",{children:Object(g.jsxs)(H.a,{children:[ee.map((function(e){var n=e.name,t=e.url,s=e.exos;return Object(g.jsxs)("div",{children:[h(n),Object(g.jsx)(Z.a,{href:t,target:"_blank",sx:{textDecoration:"none",color:"inherit"},children:Object(g.jsx)(G.a,{disableRipple:!0,children:" Cours "})}),s.map(x),Object(g.jsx)(F.a,{sx:{border:1}})]})})),h("Exercices g\xe9n\xe9raux"),z.map(x)]})});return Object(g.jsx)("div",{children:Object(g.jsxs)(y.a,{sx:{display:"flex"},children:[Object(g.jsx)(W.a,{}),Object(g.jsx)(N.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat($,"px)")},ml:{sm:"".concat($,"px")},height:60},children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(X.a,{href:"https://github.com/cpge-exercices/sql",direction:"right",size:"60"}),Object(g.jsx)(S.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:b,sx:{mr:2,display:{sm:"none"}},children:Object(g.jsx)(Y.a,{})}),Object(g.jsx)(_.a,{variant:"h6",noWrap:!0,component:"div",children:"Cours et exercices SQL"})]})}),Object(g.jsxs)(y.a,{component:"nav",sx:{width:{sm:$},flexShrink:{sm:0}},children:[Object(g.jsx)(B.a,{container:m,variant:"temporary",open:r,onClose:b,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:$}},children:p}),Object(g.jsx)(B.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:$,border:1.5}},open:!0,children:p})]}),Object(g.jsxs)(y.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat($,"px)")}},children:[Object(g.jsx)(U.a,{}),u&&Object(g.jsx)(P,Object(c.a)({},u),u)]})]})})}var te=document.getElementById("root");Object(r.createRoot)(te).render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(ne,{})}))}},[[320,1,2]]]);
//# sourceMappingURL=main.ed3336e2.chunk.js.map