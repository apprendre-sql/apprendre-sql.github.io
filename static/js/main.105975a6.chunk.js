(this.webpackJsonpsql_exercises=this.webpackJsonpsql_exercises||[]).push([[0],{199:function(e,t,n){},207:function(e,t){},209:function(e,t){},220:function(e,t){},222:function(e,t){},249:function(e,t){},251:function(e,t){},252:function(e,t){},257:function(e,t){},259:function(e,t){},265:function(e,t){},267:function(e,t){},286:function(e,t){},298:function(e,t){},301:function(e,t){},314:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),i=n(37),r=n.n(i),a=n(30),o=n(14),l=(n(199),n(177)),j=n(113),d=n.n(j),b=n(378),u=n(178),m=n.n(u),x=n(179),h=n(374),O=n(385),p=n(387),f=n(391),g=n(390),v=n(386),w=n(388),k=n(389),S=n(2);function q(e){var t=e.columns,n=e.values;return Object(S.jsx)(O.a,{elevation:3,sx:{width:"100%"},children:Object(S.jsx)(v.a,{sx:{maxHeight:300},children:Object(S.jsxs)(p.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(S.jsx)(w.a,{children:Object(S.jsx)(k.a,{children:t.map((function(e,t){return Object(S.jsx)(g.a,{align:"center",sx:{fontWeight:"bold",fontSize:16},children:e},t)}))})}),Object(S.jsx)(f.a,{children:n.map((function(e,t){return Object(S.jsx)(k.a,{hover:!0,role:"checkbox",tabIndex:-1,children:e.map((function(e,t){return Object(S.jsx)(g.a,{align:"center",children:e},t)}))},t)}))})]})})})}var y=n(377),C=n(373),E=n(185),_=n(370),M=n(376),L=n(180),R=n.n(L),I=n(309),A=function(e){e.name;var t=e.db,n=e.question,i=e.answer,r=Object(c.useState)(""),a=Object(o.a)(r,2),l=a[0],j=a[1],d=Object(c.useState)(null),u=Object(o.a)(d,2),m=u[0],x=u[1],O=Object(c.useState)(null),p=Object(o.a)(O,2),f=p[0],g=p[1],v=Object(c.useState)(Object(S.jsx)("pre",{})),w=Object(o.a)(v,2),k=w[0],L=w[1],A=Object(c.useState)(!1),F=Object(o.a)(A,2),T=F[0],z=F[1],D=function(e,t){"clickaway"!==t&&z(!1)},N=Object(S.jsx)(s.a.Fragment,{children:Object(S.jsx)(M.a,{size:"small","aria-label":"close",color:"inherit",onClick:D,children:Object(S.jsx)(R.a,{fontSize:"small"})})});return Object(S.jsxs)(y.a,{mb:4,children:[n,Object(S.jsxs)(C.a,{spacing:2,container:!0,alignItems:"center",children:[Object(S.jsx)(C.a,{item:!0,md:10,children:Object(S.jsx)(y.a,{sx:{border:1},p:.5,children:Object(S.jsx)(E.a,{height:"10vh",defaultLanguage:"sql",onChange:function(e){return j(e)},options:{lineNumbers:"off",minimap:{enabled:!1}}})})}),Object(S.jsxs)(C.a,{item:!0,md:2,children:[Object(S.jsx)(_.a,{open:T,autoHideDuration:6e3,onClose:D,message:k,action:N}),Object(S.jsx)(h.a,{size:"large",variant:"contained",color:"success",onClick:function(){try{var e=t.exec(i),n=t.exec(l);x(n),g(e),L(I(n[0].values,e[0].values)?Object(S.jsx)(y.a,{children:"Correct !"}):Object(S.jsx)(y.a,{children:"Votre requ\xeate ne renvoie pas le bon r\xe9sultat."})),z(!0)}catch(c){L(Object(S.jsx)("pre",{children:(c||"").toString()}))}},children:"Valider"})]})]}),Object(S.jsxs)(C.a,{container:!0,mt:0,spacing:6,direction:"row",children:[m&&Object(S.jsx)(C.a,{item:!0,md:5,xs:12,children:Object(S.jsxs)(b.a,{align:"center",children:["R\xe9sultat de votre requ\xeate ",Object(S.jsx)("br",{}),m.map((function(e){var t=e.columns,n=e.values;return Object(S.jsx)(q,{columns:t,values:n})}))]})}),f&&Object(S.jsx)(C.a,{item:!0,md:5,xs:12,children:Object(S.jsxs)(b.a,{align:"center",children:["R\xe9sultat attendu ",Object(S.jsx)("br",{}),f.map((function(e){var t=e.columns,n=e.values;return Object(S.jsx)(q,{columns:t,values:n})}))]})})]})]})},F=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),s=n[0],i=n[1];return Object(c.useEffect)((function(){Object(l.a)(d.a.mark((function t(){var n,c,s,r,a,l,j;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=m()({locateFile:function(){return x.a}}),c=fetch(e.db_url).then((function(e){return e.text()})),t.next=4,Promise.all([n,c]);case 4:s=t.sent,r=Object(o.a)(s,2),a=r[0],l=r[1],(j=new a.Database).exec(l),i(j);case 11:case"end":return t.stop()}}),t)})))()}),[]),Object(S.jsxs)("div",{children:[e.description&&Object(S.jsx)(y.a,{sx:{borderLeft:2.5,borderColor:"gray",padding:2},children:e.description}),e.diagram&&Object(S.jsx)(b.a,{align:"center",children:e.diagram}),Object(S.jsx)("hr",{}),Object(S.jsx)("ol",{children:e.questions.map((function(t,n){return Object(S.jsx)("li",{children:Object(S.jsx)(A,{db:s,name:e.name,question:t,answer:e.answers[n]})},"".concat(e.name,"_").concat(n))}))})]})},T={name:"Pok\xe9mon",description:Object(S.jsx)("div",{children:"Base de donn\xe9es contenant les pok\xe9mons de la 1\xe8re g\xe9n\xe9ration."}),db_url:"https://raw.githubusercontent.com/mp2i-info/mp2i-info.github.io/main/files/A_sql/pokemon/pokemon.sql",diagram:Object(S.jsx)("img",{src:"https://raw.githubusercontent.com/cpge-itc/itc2/main/files/1_sql/pokemon.png",width:"80%"}),questions:["Calculer le nombre de pok\xe9mons.","Afficher les pok\xe9mons d\xe9tenus par Pierre."],answers:["SELECT count(*) FROM pokemons;","SELECT pokemons.nom FROM pokemons JOIN detient_pokemons ON pokemons.id = pokemon_id JOIN dresseurs ON dresseurs.id = dresseur_id"]},z={name:"Valeur fonci\xe8re",diagram:Object(S.jsx)("img",{src:"https://raw.githubusercontent.com/fortierq/notebooks/master/nb/db/fonciere/fonciere.png",width:"290"}),db_url:"https://raw.githubusercontent.com/fortierq/notebooks/master/nb/db/fonciere/fonciere.sql",description:Object(S.jsxs)("div",{children:["Informations sur une partie des ventes immobili\xe8res 2021 en France."," ",Object(S.jsx)("br",{}),"La ",Object(S.jsx)("b",{children:"valeur fonci\xe8re"})," est l'estimation de la valeur d'un terrain."," ",Object(S.jsx)("br",{}),"Les noms de voie et de commune sont en majuscules.",Object(S.jsx)("br",{}),Object(S.jsx)("a",{href:"https://cadastre.data.gouv.fr/dvf",children:"Source : data.gouv"}),"."]}),questions:["Quel est le nombre moyen de m2 du b\xe2ti ?"],answers:["select avg(surface_reelle_bati) as 'nombre moyen de m2 du b\xe2ti' from fonciere;"]},D=[{name:"M\xe9tro parisien",description:Object(S.jsx)("div",{children:"M\xe9tro parisien."}),db_url:"https://raw.githubusercontent.com/mp2i-info/mp2i-info.github.io/main/files/A_sql/metro/metro.sql",diagram:Object(S.jsx)("img",{src:"https://raw.githubusercontent.com/cpge-itc/itc2/main/files/1_sql/pokemon.png",width:"80%"}),questions:["Afficher toutes les stations de m\xe9tro.","Afficher la station et le trafic de la station la plus fr\xe9quent\xe9e.","Afficher la (ou les) station(s) de Massy.","Afficher l'arrondissement ayant le plus de stations de m\xe9tro.'"],answers:["SELECT DISTINCT station FROM metro;","SELECT station, trafic FROM metro ORDER BY trafic DESC LIMIT 1","SELECT station FROM metro WHERE ville = 'MASSY'"]},z,T],N=n(384),P=n(383),H=n(380),J=n(369),B=n(381),V=n(371),W=n(367),Q=n(382),Y=n(379),G=n(184),K=n.n(G),U=n(182),X=n.n(U),Z=240;function $(e){var t=e.window,n=s.a.useState(!1),c=Object(o.a)(n,2),i=c[0],r=c[1],l=s.a.useState(0),j=Object(o.a)(l,2),d=j[0],u=j[1],m=function(){r(!i)},x=void 0!==t?function(){return t().document.body}:void 0,h=Object(S.jsxs)("div",{children:[Object(S.jsx)(Y.a,{}),Object(S.jsx)(H.a,{}),Object(S.jsx)(B.a,{children:D.map((function(e,t){var n=e.name;return Object(S.jsx)(V.a,{disablePadding:!0,children:Object(S.jsx)(W.a,{disableRipple:!0,selected:d===t,onClick:function(e){return u(t)},children:Object(S.jsx)(Q.a,{primary:n})})},n)}))})]});D.map((function(e){return Object(S.jsx)(F,Object(a.a)({},e))}));return Object(S.jsx)("div",{children:Object(S.jsxs)(y.a,{sx:{display:"flex"},children:[Object(S.jsx)(P.a,{}),Object(S.jsx)(N.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(Z,"px)")},ml:{sm:"".concat(Z,"px")},height:60},children:Object(S.jsxs)(Y.a,{children:[Object(S.jsx)(X.a,{href:"https://github.com/fortierq/sql-exercises",direction:"right",size:"60"}),Object(S.jsx)(M.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:m,sx:{mr:2,display:{sm:"none"}},children:Object(S.jsx)(K.a,{})}),Object(S.jsxs)(b.a,{variant:"h6",noWrap:!0,component:"div",children:["Exercices SQL : ",D[d].name]})]})}),Object(S.jsxs)(y.a,{component:"nav",sx:{width:{sm:Z},flexShrink:{sm:0}},children:[Object(S.jsx)(J.a,{container:x,variant:"temporary",open:i,onClose:m,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Z}},children:h}),Object(S.jsx)(J.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Z}},open:!0,children:h})]}),Object(S.jsxs)(y.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(Z,"px)")}},children:[Object(S.jsx)(Y.a,{}),Object(S.jsx)(F,Object(a.a)({},D[d]),d)]})]})})}var ee=document.getElementById("root");r.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)($,{})}),ee)}},[[314,1,2]]]);
//# sourceMappingURL=main.105975a6.chunk.js.map